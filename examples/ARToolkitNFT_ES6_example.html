<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ARToolkitNFT_ES6 example</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=1">
</head>
<body>
		<video id="video" autoplay playsinline></video>
		<canvas id="targetcanvas" class="layer"></canvas>
		<script src="../dist/ARToolkitNFT.js"></script>
		<script src="js/third_party/three.js/three.min.js"></script>
		<script src="threejs_worker_ES6.js"></script>
		<script src="index.js"></script>

    <script>
		window.addEventListener('load', () => {
			console.log('init ARToolkitNFT...');

			initCamera()
			.then(video => {

				// start camera playback
		    sourceVideo = video;
		    sourceVideo.width = 640;
		    sourceVideo.height = 480;
		    sourceVideo.play();

				// init target canvas
		    initTargetCanvas();

				return new Promise(resolve => {
		      sourceVideo.addEventListener("loadeddata", event => {
		        console.log("Camera is ready");
		        resolve();
		      });
		    });
		  })
			.then(_ => {

			start('../examples/DataNFT/pinball', video, video.videoWidth, video.videoHeight)

		});
	})
    </script>

</body>

</html>
